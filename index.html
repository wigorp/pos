<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pós-Graduação</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:Arial,sans-serif; }
  body { background:#f3f4f6; color:#333; padding:20px; }
  .header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
  .header h1 { font-size:1.5em; }
  .main { display:flex; gap:20px; flex-wrap:wrap; }
  .courses { flex:1; display:grid; grid-template-columns:1fr 1fr; gap:15px; }
  .course-card { background:#fff; border-radius:8px; padding:15px; box-shadow:0 3px 8px rgba(0,0,0,0.1); }
  .course-card a { text-decoration:none; color:#0073e6; }
  .calendar-container { width:350px; padding:10px; border-radius:8px; background:#fff; box-shadow:0 3px 8px rgba(0,0,0,0.1); }
  .calendar-container h2 { font-size:1.1em; margin-bottom:10px; text-align:center; }
  .event-form input, .event-form textarea { width:100%; margin-bottom:8px; padding:6px; border-radius:4px; border:1px solid #ccc; }
  .event-form button { width:100%; padding:8px; background:#0073e6; color:#fff; border:none; border-radius:4px; cursor:pointer; }
  .event-form button:hover { background:#005bb5; }
  .event-list { list-style:none; max-height:300px; overflow-y:auto; padding-left:0; }
  .event-list li { padding:5px; border-bottom:1px solid #eee; font-size:0.9em; }
</style>
</head>
<body>

<div class="header">
  <h1>PÓS-GRADUAÇÃO</h1>
</div>

<div class="main">
  <!-- Matérias -->
  <div class="courses" id="coursesContainer">
    <div class="course-card cursando"><a href="https://infoprod.platosedu.io/v2/lms/login" target="_blank">Engenharia de Dados e Inteligência Artificial</a></div>
    <div class="course-card cursando"><a href="https://pucprdigital.grupoa.education/plataforma/auth/signin" target="_blank">PUC PR - IA e Negócios</a></div>
    <div class="course-card cursando"><a href="https://salavirtual.pucrs.br/" target="_blank">PUC RS - DS e AI para Logística</a></div>
    <div class="course-card cursando"><a href="https://accounts.fluency.io/signin" target="_blank">Inglês - Fluency Academy</a></div>
    <div class="course-card cursando"><a href="https://web.dio.me/home" target="_blank">DIO.ME</a></div>
    <!-- Novas pós-graduações -->
    <div class="course-card cursando"><a href="https://kroton.platosedu.io/v2/lms/aluno/disciplina/3828409" target="_blank">Anhanguera - Tecnologia da Informação Aplicada à Logística</a></div>
    <div class="course-card cursando"><a href="https://kroton.platosedu.io/v2/lms/aluno/disciplina/38252526" target="_blank">Anhanguera - MBA EM GESTÃO ÁGIL</a></div>
  </div>

  <!-- Calendário e formulário -->
  <div class="calendar-container">
    <h2>Calendário</h2>
    <form class="event-form" onsubmit="adicionarEvento(); return false;">
      <input type="text" id="nomeAtividade" placeholder="Nome do evento" required>
      <input type="datetime-local" id="inicioAtividade" required>
      <input type="datetime-local" id="fimAtividade" required>
      <textarea id="descricaoAtividade" placeholder="Descrição"></textarea>
      <button type="submit">Adicionar ao Google Calendar</button>
    </form>
    <ul class="event-list" id="listaAtividades"></ul>
  </div>
</div>

<script src="https://apis.google.com/js/api.js"></script>
<script>
  const CLIENT_ID = '1020987215921-ngt4kf1arda7eio7o53df600lkvlurv3.apps.googleusercontent.com';
  const DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];
  const SCOPES = "https://www.googleapis.com/auth/calendar.events";
  const CALENDAR_ID = 'primary';

  function handleClientLoad() {
    gapi.load('client:auth2', initClient);
  }

  function initClient() {
    gapi.client.init({
      clientId: CLIENT_ID,
      discoveryDocs: DISCOVERY_DOCS,
      scope: SCOPES
    }).then(() => {
      gapi.auth2.getAuthInstance().signIn().then(carregarEventos);
    });
  }

  function authenticate() {
    return gapi.auth2.getAuthInstance().signIn();
  }

  function adicionarEvento() {
    const nome = document.getElementById('nomeAtividade').value;
    const inicio = document.getElementById('inicioAtividade').value;
    const fim = document.getElementById('fimAtividade').value;
    const desc = document.getElementById('descricaoAtividade').value;

    if(!nome || !inicio || !fim){ alert('Preencha todos os campos!'); return; }

    authenticate().then(() => {
      const evento = {
        summary: nome,
        description: desc,
        start: { dateTime: new Date(inicio).toISOString() },
        end: { dateTime: new Date(fim).toISOString() }
      };
      gapi.client.calendar.events.insert({ calendarId: CALENDAR_ID, resource: evento })
        .then(() => {
          carregarEventos();
          document.getElementById('nomeAtividade').value='';
          document.getElementById('inicioAtividade').value='';
          document.getElementById('fimAtividade').value='';
          document.getElementById('descricaoAtividade').value='';
        });
    });
  }

  function carregarEventos() {
    authenticate().then(() => {
      gapi.client.calendar.events.list({
        calendarId: CALENDAR_ID,
        timeMin: (new Date()).toISOString(),
        showDeleted: false,
        singleEvents: true,
        orderBy: 'startTime'
      }).then(response => {
        const eventos = response.result.items;
        const lista = document.getElementById('listaAtividades');
        lista.innerHTML = '';
        eventos.forEach(ev => {
          const li = document.createElement('li');
          li.textContent = `${ev.start.dateTime ? new Date(ev.start.dateTime).toLocaleString() : ev.start.date} - ${ev.summary}`;
          lista.appendChild(li);
        });
      });
    });
  }

  handleClientLoad();
</script>
</body>
</html>
